---
tags:
  - questions
---

[[Binary Search]]      [[Divide and Conquer]]

Given two sorted arrays `nums1` and `nums2` of size `m` and `n` respectively, return **the median** of the two sorted arrays.

The overall run time complexity should be `O(log (m+n))`.

**Example 1:**

**Input:** nums1 = [1,3], nums2 = [2]
**Output:** 2.00000
**Explanation:** merged array = [1,2,3] and median is 2.

**Example 2:**

**Input:** nums1 = [1,2], nums2 = [3,4]
**Output:** 2.50000
**Explanation:** merged array = [1,2,3,4] and median is (2 + 3) / 2 = 2.5.

## Solution: 

```
class Solution:
    def findMedianSortedArrays(self, nums1: List[int], nums2: List[int]) -> float:
        if len(nums1) > len(nums2):
            nums1,nums2 = nums2,nums1
            
            
        A,B = nums1, nums2
        m,n = len(A), len(B)

        low = 0
        high = m

        while low<=high:

            cutA = (low+high)//2
            cutB = (m+n+1)//2 -cutA

            leftA = float('-inf') if cutA==0 else A[cutA-1]
            leftB = float('-inf') if cutB==0 else B[cutB-1]

            rightA =  float('inf') if cutA==m else A[cutA]
            rightB = float('inf') if cutB ==n else B[cutB]

            if leftA <=rightB and leftB <= rightA:
                if (m+n)%2 ==0:
                    return (max(leftA,leftB) + min(rightA, rightB))/2
                else:
                    return max(leftA,leftB)

            elif leftA>rightB:
                high = cutA-1

            else:
                low= cutA+1
```

## Logic: 

In this we perform binary search on the shortest array.

We calculate a random cut in both arrays on the basis of this.
Using these cuts we divide both arrays into two parts each. (Left and right)

The cut in B is calculated in the following way:

`cutA` is given as $(low+height)//2$ which is basically a random cut starting in the centre of array 1.
Then `cutB `is given as $(Total elements in both arrays+1)//2  - cutA$ . 

Using this cuts we calculate the left most element in left partion and right most element in right partition for both arrays:

Then we compare `leftA <= rightB and leftB <= rightA` if both true , we find median using these elements.

If `leftA <= rightB` is False, then we overshot and have to reduce the value of the cut.
Else if `leftB <= rightA` is False, then we undershot and have to increase the value of the cut.




